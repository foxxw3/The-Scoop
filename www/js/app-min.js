var $$=Dom7,app=new Framework7({root:"#app",id:"io.framework7.testapp",name:"Framework7",theme:"auto",data:function(){return{user:{firstName:"John",lastName:"Doe"},scoops:[{id:"1",title:"Social Life",flavor:"Chocolate"},{id:"2",title:"Family Time",flavor:"Vanilla"},{id:"3",title:"Education",flavor:"Strawberry"}],checkins:[{id:"1",title:"Morning",time:"12:00PM",storedScoops:[]},{id:"2",title:"Afternoon",time:"12:00PM",storedScoops:[]},{id:"3",title:"Night",time:"12:00PM",storedScoops:[]}],cones:[{id:"1",date:"today",build:[{id:"1",level:"scoop",color:"#FEFEFE"},{id:"2",level:"scoop",color:"#000000"},{id:"3",level:"scoop",color:"#333333"},{id:"4",level:"sprinkles",color:"#FEFEFE"}]}]}},methods:{helloWorld:function(){app.dialog.alert("Hello World!")}},routes:routes}),homeView=app.views.create("#view-home",{url:"/"}),todayView=app.views.create("#view-today",{url:"/today/"}),scoopsView=app.views.create("#view-scoops",{url:"/scoops/"}),settingsView=app.views.create("#view-settings",{url:"/settings/"}),loginView=app.views.create("#view-login",{url:"/login/"}),signUpView=app.views.create("#view-sign-up",{url:"/sign-up/"});function getMethods(e){var o=[];for(var t in e)"function"==typeof e[t]&&o.push(t);return console.log(o),o}$$("#my-login-screen .login-button").on("click",function(){var e=$$('#my-login-screen [name="username"]').val(),o=$$('#my-login-screen [name="password"]').val();app.loginScreen.close("#my-login-screen"),app.dialog.alert("Username: "+e+"<br>Password: "+o)}),console.log(app),getMethods(app),localStorage.setItem("username",""),$$(document).on("page:init",function(e){console.log("ran after in of home"),localStorage.getItem("username")||(console.log("running localStorage if "+localStorage.getItem("username")),console.log(app.router),app.views.main.router.navigate("/login/")),"temp"==localStorage.getItem("username")&&(console.log("running localStorage if "+localStorage.getItem("username")),console.log(app),app.views.main.router.navigate("/sign-up/"))}),$$(document).on("page:afterin",'.page[data-name="settings"]',function(e){console.log("ran settings"),$(document).ready(function(){$("#createUser").click(function(){var e=$("#username").val(),o=$("#password").val(),t=$("#fname").val(),a=$("#lname").val(),n="username="+e+"&password="+o+"&fname="+t+"&lname="+a+"&insert=";return 0<$.trim(e).length&0<$.trim(o).length&0<$.trim(t).length&0<$.trim(a).length&&$.ajax({type:"POST",url:"http://iontheory.net/scoop/users/insert.php",data:n,crossDomain:!0,cache:!1,beforeSend:function(){$("#insert").val("Connecting...")},success:function(e){"success"==e?(alert("inserted"),$("#insert").val("submit")):"error"==e&&alert("error")}}),!1});var e="http://iontheory.net/scoop/users/getUser.php?username="+localStorage.getItem("username"),t="",a="",n="",r="";console.log("settings url: "+e),$("#username").val(localStorage.getItem("username")),$.getJSON(e,function(e){console.log(e),$.each(e,function(e,o){t=o.username,a=o.password,n=o.fname,r=o.lname,console.log("settings "+t),console.log("settings "+a),console.log("settings "+n),console.log("settings "+r)}),$("#username").val(t),$("#password").val(a),$("#fname").val(n),$("#lname").val(r)}),$("#updateUser").click(function(){var e=$("#username").val(),o=$("#password").val(),t=$("#fname").val(),a=$("#lname").val(),n="id="+id+"&username="+e+"&password="+o+"&fname="+t+"&lname="+a+"&update=";$.ajax({type:"POST",url:"http://iontheory.net/scoop/users/update.php",data:n,crossDomain:!0,cache:!1,beforeSend:function(){$("#update").val("Connecting...")},success:function(e){"success"==e?(alert("Updated"),$("#update").val("Update")):"error"==e&&alert("error")}})}),$("#deleteUser").click(function(){var e,o="username="+$("#username").val()+"&delete=";$.ajax({type:"GET",url:"http://iontheory.net/scoop/users/delete.php",data:o,crossDomain:!0,cache:!1,beforeSend:function(){$("#delete").val("Connecting...")},success:function(e){"success"==e?(alert("Deleted"),$("#deleteUser").val("Delete")):"error"==e&&alert("error")}})})})}),$$(document).on("page:afterin",'.page[data-name="scoops"]',function(c){$(document).ready(function(){console.log("ran read.js");var e="http://iontheory.net/scoop/categories/json.php",o='<div class="scoop add-new"><a href="/add-scoop/"><img src="./assets/img/add-icon.svg"><p>Add New</p><img src="./assets/img/arrow-right.svg"></a></div>';console.log(o),$.getJSON(e,function(e){$("#listcats").append(o),console.log(e),$.each(e,function(e,o){var t=o.ID,a=o.user,n=o.category,r=o.color;Parsedcolor=r.replace("#","%23"),$("#listcats").append("<div class='scoop "+r+" ' style='background-color:"+r+";''><a href='/scoop/"+t+"/?id="+t+"&user="+a+"&category="+n+"&color="+Parsedcolor+"'><img src='./assets/img/social-category-icon.svg'><p>"+n+"</p><img src='./assets/img/arrow-right.svg'></a></div>")})}),console.log(c.detail.route);var t=c.detail.route.query.id,a=c.detail.route.query.user,n=c.detail.route.query.category,r=c.detail.route.query.color,s=localStorage.getItem("someSetting");console.log("some setting = "+s),console.log(t),console.log(a),console.log(n),console.log(r),$("#id").val(t),$("#username").val(a),$("#category").val(n),$("#color").val(r),$("#update").click(function(){var e,o,t,a,n="id="+$("#id").val()+"&user="+$("#username").val()+"&category="+$("#category").val()+"&color="+$("#color").val()+"&update=";$.ajax({type:"POST",url:"http://iontheory.net/scoop/categories/update.php",data:n,crossDomain:!0,cache:!1,beforeSend:function(){$("#update").val("Connecting...")},success:function(e){"success"==e?(alert("Updated"),$("#update").val("Update")):"error"==e&&alert("error")}})}),$("#delete").click(function(){var e,o="id="+$("#id").val()+"&delete=";$.ajax({type:"GET",url:"http://iontheory.net/scoop/categories/delete.php",data:o,crossDomain:!0,cache:!1,beforeSend:function(){$("#delete").val("Connecting...")},success:function(e){"success"==e?(alert("Deleted"),$("#delete").val("Delete")):"error"==e&&alert("error")}})}),$("#insert").click(function(){var e=$("#username").val(),o=$("#category").val(),t=$("#color").val(),a="user="+e+"&category="+o+"&color="+t+"&insert=";return console.log("running insert"),console.log(e),console.log(o),console.log(t),console.log(a),0<$.trim(e).length&0<$.trim(o).length&0<$.trim(t).length&&$.ajax({type:"POST",url:"http://iontheory.net/scoop/categories/insert.php",data:a,crossDomain:!0,cache:!1,beforeSend:function(){$("#insert").val("Connecting...")},success:function(e){"success"==e?(alert("inserted"),$("#insert").val("submit")):"error"==e&&alert("error")}}),!1})})}),$$(document).on("page:afterin",'.page[data-name="today"]',function(e){$(document).ready(function(){console.log("running today");var e="http://iontheory.net/scoop/categories/json.php";$.getJSON(e,function(e){console.log(e),$.each(e,function(e,o){var t=o.ID,a=o.user,n=o.category,r,s,c,l="<div class='individual-scoop'><a href='/checkin-scoop/"+t+"/"+("?id="+t+"&user="+a+"&category="+n+"&color="+o.color.replace("#","%23"))+'\'><img src="./assets/img/social-category-icon.svg"><p>'+n+"</p></a></div>";console.log(l),$("#listcheckins").append(l)})})})}),$$(document).on("page:afterin",'.page[data-name="home"]',function(e){$(document).ready(function(){})}),$$(document).on("page:afterout",'.page[data-name="today"]',function(e){$(document).ready(function(){$("#listcheckins").empty()})}),$$(document).on("page:afterout",'.page[data-name="scoops"]',function(e){$(document).ready(function(){$("#listcats").empty()})}),$(document).ready(function(){$(".cone-slider").slick({arrows:!0,infinite:!1,rtl:!0})});