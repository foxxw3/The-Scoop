var $$=Dom7,app=new Framework7({root:"#app",id:"io.framework7.testapp",name:"Framework7",theme:"auto",data:function(){return{user:{firstName:"John",lastName:"Doe"},scoops:[{id:"1",title:"Social Life",flavor:"Chocolate"},{id:"2",title:"Family Time",flavor:"Vanilla"},{id:"3",title:"Education",flavor:"Strawberry"}],checkins:[{id:"1",title:"Morning",time:"12:00PM",storedScoops:[]}]}},methods:{helloWorld:function(){app.dialog.alert("Hello World!")}},routes:routes}),homeView=app.views.create("#view-home",{url:"/"}),todayView=app.views.create("#view-today",{url:"/today/"}),scoopsView=app.views.create("#view-scoops",{url:"/scoops/"}),settingsView=app.views.create("#view-settings",{url:"/settings/"}),loginView=app.views.create("#view-login",{url:"/login/"}),signUpView=app.views.create("#view-sign-up",{url:"/sign-up/"});function getMethods(e){var o=[];for(var n in e)"function"==typeof e[n]&&o.push(n);return console.log(o),o}$$("#my-login-screen .login-button").on("click",function(){var e=$$('#my-login-screen [name="username"]').val(),o=$$('#my-login-screen [name="password"]').val();app.loginScreen.close("#my-login-screen"),app.dialog.alert("Username: "+e+"<br>Password: "+o)}),console.log(app),getMethods(app),$$(document).on("page:init",function(e){console.log("ran after in of home"),localStorage.getItem("username")||(console.log("running localStorage if "+localStorage.getItem("username")),console.log(app.router),app.views.main.router.navigate("/login/")),"temp"==localStorage.getItem("username")&&(console.log("running localStorage if "+localStorage.getItem("username")),console.log(app),app.views.main.router.navigate("/sign-up/"))}),$$(document).on("page:afterin",'.page[data-name="settings"]',function(e){console.log("ran settings"),$(document).ready(function(){$("#createUser").click(function(){var e=$("#username").val(),o=$("#password").val(),n=$("#fname").val(),t=$("#lname").val(),a="username="+e+"&password="+o+"&fname="+n+"&lname="+t+"&insert=";return 0<$.trim(e).length&0<$.trim(o).length&0<$.trim(n).length&0<$.trim(t).length&&$.ajax({type:"POST",url:"http://iontheory.net/scoop/users/insert.php",data:a,crossDomain:!0,cache:!1,beforeSend:function(){$("#insert").val("Connecting...")},success:function(e){"success"==e?(alert("inserted"),$("#insert").val("submit")):"error"==e&&alert("error")}}),!1});var e="http://iontheory.net/scoop/users/getUser.php?username="+localStorage.getItem("username"),n="",t="",a="",r="";console.log("settings url: "+e),$("#username").val(localStorage.getItem("username")),$.getJSON(e,function(e){console.log(e),$.each(e,function(e,o){n=o.username,t=o.password,a=o.fname,r=o.lname,console.log("settings "+n),console.log("settings "+t),console.log("settings "+a),console.log("settings "+r)}),$("#username").val(n),$("#password").val(t),$("#fname").val(a),$("#lname").val(r)}),$("#updateUser").click(function(){var e=$("#username").val(),o=$("#password").val(),n=$("#fname").val(),t=$("#lname").val(),a="id="+id+"&username="+e+"&password="+o+"&fname="+n+"&lname="+t+"&update=";$.ajax({type:"POST",url:"http://iontheory.net/scoop/users/update.php",data:a,crossDomain:!0,cache:!1,beforeSend:function(){$("#update").val("Connecting...")},success:function(e){"success"==e?(alert("Updated"),$("#update").val("Update")):"error"==e&&alert("error")}})}),$("#logoutUser").click(function(){localStorage.setItem("username",""),app.views.main.router.navigate("/login/"),$(".toolbar").hide()}),$("#deleteUser").click(function(){var e,o="username="+$("#username").val()+"&delete=";$.ajax({type:"GET",url:"http://iontheory.net/scoop/users/delete.php",data:o,crossDomain:!0,cache:!1,beforeSend:function(){$("#delete").val("Connecting...")},success:function(e){"success"==e?(alert("Deleted"),$("#deleteUser").val("Delete")):"error"==e&&alert("error")}})})})}),$$(document).on("page:afterin",'.page[data-name="scoops"]',function(l){$(document).ready(function(){console.log("ran read.js");var e="http://iontheory.net/scoop/categories/json.php",o='<div class="scoop add-new"><a href="/add-scoop/"><img src="./assets/img/add-icon.svg"><p>Add New</p><img src="./assets/img/arrow-right.svg"></a></div>';console.log(o),$.getJSON(e,function(e){$("#listcats").append(o),console.log(e),$.each(e,function(e,o){var n=o.ID,t=o.user,a=o.category,r=o.color;Parsedcolor=r.replace("#","%23"),$("#listcats").append("<div class='scoop "+r+" ' style='background-color:"+r+";''><a href='/scoop/"+n+"/?id="+n+"&user="+t+"&category="+a+"&color="+Parsedcolor+"'><img src='./assets/img/social-category-icon.svg'><p>"+a+"</p><img src='./assets/img/arrow-right.svg'></a></div>")})}),console.log(l.detail.route);var n=l.detail.route.query.id,t=l.detail.route.query.user,a=l.detail.route.query.category,r=l.detail.route.query.color,s=localStorage.getItem("someSetting");console.log("some setting = "+s),console.log(n),console.log(t),console.log(a),console.log(r),$("#id").val(n),$("#username").val(t),$("#category").val(a),$("#color").val(r),$("#update").click(function(){var e,o,n,t,a="id="+$("#id").val()+"&user="+$("#username").val()+"&category="+$("#category").val()+"&color="+$("#color").val()+"&update=";$.ajax({type:"POST",url:"http://iontheory.net/scoop/categories/update.php",data:a,crossDomain:!0,cache:!1,beforeSend:function(){$("#update").val("Connecting...")},success:function(e){"success"==e?(alert("Updated"),$("#update").val("Update")):"error"==e&&alert("error")}})}),$("#delete").click(function(){var e,o="id="+$("#id").val()+"&delete=";$.ajax({type:"GET",url:"http://iontheory.net/scoop/categories/delete.php",data:o,crossDomain:!0,cache:!1,beforeSend:function(){$("#delete").val("Connecting...")},success:function(e){"success"==e?(alert("Deleted"),$("#delete").val("Delete")):"error"==e&&alert("error")}})}),$("#insert").click(function(){var e=$("#username").val(),o=$("#category").val(),n=$("#color").val(),t="user="+e+"&category="+o+"&color="+n+"&insert=";return console.log("running insert"),console.log(e),console.log(o),console.log(n),console.log(t),0<$.trim(e).length&0<$.trim(o).length&0<$.trim(n).length&&$.ajax({type:"POST",url:"http://iontheory.net/scoop/categories/insert.php",data:t,crossDomain:!0,cache:!1,beforeSend:function(){$("#insert").val("Connecting...")},success:function(e){"success"==e?(alert("inserted"),$("#insert").val("submit")):"error"==e&&alert("error")}}),!1})})}),$$(document).on("page:afterin",'.page[data-name="today"]',function(l){$(document).ready(function(){console.log("running today"),console.log();var i=l.detail.route.params.title,e="http://iontheory.net/scoop/categories/json.php";$.getJSON(e,function(e){console.log(e),$.each(e,function(e,o){var n=o.ID,t=o.user,a=o.category,r,s,l,c="<div class='individual-scoop'><a href='/checkin-scoop/"+n+"/"+("?id="+n+"&user="+t+"&category="+a+"&color="+o.color.replace("#","%23")+"&checkinTitle="+i)+'\'><img src="./assets/img/social-category-icon.svg"><p>'+a+"</p></a></div>";console.log(c),$("#listcheckins").append(c)})}),$("#checkInContinue").click(function(){var e=localStorage.getItem("username"),o=$("#category").val(),n=$("#hours").val(),t=$("#effect").val(),a=l.detail.route.query.checkinTitle,r=n*t,s="user="+e+"&category="+o+"&points="+r+"&time="+a+"&insert=";return console.log("running insert"),console.log(e),console.log(o),console.log(r),console.log(a),console.log(s),0<$.trim(e).length&0<$.trim(o).length&0<$.trim(r).length&0<$.trim(a).length&&$.ajax({type:"POST",url:"http://iontheory.net/scoop/entries/insert.php",data:s,crossDomain:!0,cache:!1,beforeSend:function(){$("#insert").val("Connecting...")},success:function(e){"success"==e?(alert("inserted"),$("#insert").val("submit")):"error"==e&&alert("error")}}),!1})})}),$$(document).on("page:afterin",'.page[data-name="sign-up"]',function(e){$(document).ready(function(){console.log("running sign up"),$("#signupContinue").click(function(){var o=$("#signupusername").val(),e=$("#signuppassword").val(),n=$("#fname").val(),t=$("#lname").val(),a="username="+o+"&password="+e+"&fname="+n+"&lname="+t+"&insert=";return console.log("running insert"),console.log(o),console.log(e),console.log(n),console.log(t),console.log(a),0<$.trim(o).length&0<$.trim(e).length&0<$.trim(n).length&0<$.trim(t).length&&$.ajax({type:"POST",url:"http://iontheory.net/scoop/users/insert.php",data:a,crossDomain:!0,cache:!1,success:function(e){"success"==e?(alert("account created"),localStorage.setItem("username",o),app.views.main.router.navigate("/"),$(".toolbar").show()):"error"==e&&alert("error")}}),!1})})}),$$(document).on("page:afterin",'.page[data-name="login"]',function(e){$(document).ready(function(){console.log("running login"),$("#loginButton").click(function(){var l=$("#username").val(),e=$("#password").val(),o="username="+l+"&password="+e;console.log("running insert"),console.log(l),console.log(e),console.log(o);var n="http://iontheory.net/scoop/users/auth.php?username="+l+"&password="+e;return $.getJSON(n,function(e){if(console.log(e),console.log(e.length),0!=e.length){alert("Authenticated"),localStorage.setItem("username",l),app.views.main.router.navigate("/"),$(".toolbar").show(),$(".cone-slider").slick({arrows:!0,infinite:!1,rtl:!0});for(var o=["#FEFEFE","#333333","#FEFEFE","#333333"],n=o.length,t=0,a=0,r=0;r<n;r++){var t=40*r-40;a=499-r;var s="<div class='scoop-topping' style='background-color:"+o[r]+"; bottom: "+t+"px;'></div>";$("#scoops-stack").append(s)}}else alert("error")}),!1})})}),$$(document).on("page:afterin",'.page[data-name="home"]',function(e){$(document).ready(function(){$(".cone-slider").slick({arrows:!0,infinite:!1,rtl:!0})});for(var o=["#FEFEFE","#333333","#FEFEFE","#333333"],n=o.length,t=0,a=0,r=0;r<n;r++){var t=40*r-40;a=499-r;var s="<div class='scoop-topping' style='background-color:"+o[r]+"; bottom: "+t+"px;'></div>";$("#scoops-stack").append(s)}}),$$(document).on("page:afterout",'.page[data-name="today"]',function(e){$(document).ready(function(){$("#listcheckins").empty()})}),$$(document).on("page:afterout",'.page[data-name="scoops"]',function(e){$(document).ready(function(){$("#listcats").empty()})}),$(document).ready(function(){$(".cone-slider").slick({arrows:!0,infinite:!1,rtl:!0}),localStorage.getItem("username")?$(".toolbar").show():$(".toolbar").hide();for(var e=["#FEFEFE","#333333","#FEFEFE","#333333"],o=e.length,n=0,t=0,a=0;a<o;a++){var n=40*a-40;t=499-a;var r="<div class='scoop-topping' style='background-color:"+e[a]+"; bottom: "+n+"px;'></div>";$("#scoops-stack").append(r)}});